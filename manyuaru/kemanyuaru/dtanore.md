# データの流れ

![](<../../.gitbook/assets/Dataware-tools - data-flow.png>)

Dataware-tools 内でのデータの流れの概要は上図に示す通りです。



利用者はPythonツールキットもしくはWebアプリケーションを用いてDB上にデータのメタ情報を保存します。\
DB上に保存されたメタ情報はツールキットを用いて検索・取得・編集できるほか、 `api-meta-store` を通してWebアプリケーション上で検索・閲覧・編集することができます。

データの実体はメタ情報のDBとは別のデータストレージに格納されています。\
利用者がデータストレージにアクセス可能な環境でツールキットを使用することにより、メタ情報に基づいてデータの読み込みや書き込みを行うことができます。\
また、Webアプリケーションからは `api-file-provider` を経由してデータストレージへのファイルのアップロードおよびダウンロードが行われます

Rosbagなど、サーバからのデータのストリーミングが必要なファイルを読み込む場合、 `api-job-store` を用いてストリーミングサーバを動的に生成します。これによって生成されたサーバとWebアプリケーション側で双方向にやりとりすることでインタラクティブにデータが可視化できます。

各APIはリクエストを受けた際に利用者による権限の有無を `api-permission-manager` に問い合わせます。\
`api-permission-manager` には利用者ごとの権限情報が保持されており、 User manager アプリを使用することでこの情報を閲覧・編集することができます。

